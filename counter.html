<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript">
        var count = 0;
        function refresh() {
            var fileToLoad = document.getElementById("data.txt").files[0];
            var fr = new FileReader();
            fr.onload = function(fileLoadedEvent) {
                var count = fileLoadedEvent.target.result;
                document.getElementById("counterText").value = count;
            };
            fr.readAsText(fileToLoad, "UTF-8");
            
            var textToSave = document.getElementById(counterText+1).value;
            textToSave.download = "data.txt";
        }
        window.onload = refresh;
        </script>
    </head>
    <body>
        <textarea id="counterText" cols="80" rows="25"></textarea>
    </body>
</html>
